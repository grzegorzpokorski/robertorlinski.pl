---
title: Jak uÅ¼ywaÄ‡ wartoÅ›ci z WordPressa, w plikach CSS oraz JavaScript?
seoTitle: WartoÅ›ci z WordPressa, w plikach CSS i JS
abstract: Wiesz, Å¼e istniejÄ… 2 funkcje, dziÄ™ki ktÃ³rym moÅ¼esz przekazywaÄ‡ wartoÅ›ci z WordPressa, do plikÃ³w CSS i JS? WÅ‚aÅ›nie o nich tu opowiadam!
isPublished: true
topics:
  - WordPress
date: 08.12.2020
isPopular: false
---

WordPress, bazuje na PHPie, ktÃ³ry jak wiadomo, daje nam moÅ¼liwoÅ›Ä‡ zapisu do bazy danych, a pÃ³Åºniej odczytu, zapisanych w niej wartoÅ›ci, w plikach HTML (a bÄ™dÄ…c precyzyjnym - w plikach o rozszerzeniu .php, ale zawierajÄ…cych czÄ™sto wiÄ™cej HTMLa, niÅ¼ samego PHPa).

Ale wÅ‚aÅ›nie, zdanie to oznacza, Å¼e jesteÅ›my w stanie, korzystaÄ‡ z tych wÅ‚aÅ›ciwoÅ›ci, tylko w przypadku plikÃ³w z rozszerzeniem .php, co wyklucza, kod JS i CSS, konkretnej strony.

W teorii!

import VideoInterlude from 'VideoInterlude';

<VideoInterlude id="BOuv5d3gUKw" title="Jak uÅ¼ywaÄ‡ wartoÅ›ci z WordPressa, w plikach JS i CSS?" />

## W praktyce sÄ… funkcja, ktÃ³re umoÅ¼liwia nam wstrzykniÄ™cie konkretnych wartoÅ›ci z WordPressa do plikÃ³w JavaScript, jak i CSS

A wyglÄ…dajÄ… w ten oto sposÃ³b.

Dla plikÃ³w CSS:

```php
wp_add_inline_style( string $handle, string $custom_css );
```

> W tej oto funkcji, w pierwszym argumencie wrzucamy ID konkretnego arkusza, ktÃ³ry wczeÅ›niej zarejestrowaliÅ›my w samym WordPressie, a w drugim z kolei, podajemy ciÄ…g tekstowy, z naszymi stylami.

I dla plikÃ³w JS:

```php
wp_localize_script( string $handle, string $js_object, array $wp_variables );
```

> Tutaj z kolei, przekazujemy tablicÄ™ z wartoÅ›ciami, pobranymi z bazy danych, do konkretnego skryptu (w parametrze trzecim), ktÃ³rego ID podaliÅ›my w pierwszym parametrze.
>
> Dodatkowo ustalamy nazwÄ™ obiektu, z ktÃ³rego bÄ™dziemy w stanie wyciÄ…gaÄ‡ konkretne wartoÅ›ci, juÅ¼ w pliku JavaScript.
>
> (A o tym, dlaczego sÅ‚Ã³wko do wziÄ…Å‚em w cudzysÅ‚owie - to za chwilÄ™ wyjaÅ›niÄ™ âœ¨)

## Nie ma co czekaÄ‡ - zobaczmy 2 przykÅ‚ady!

Pobierzmy 2 pliki - CSS i JavaScript do naszego motywu WordPressa:

```php
function rob_register_assets() {
    wp_enqueue_style(
        'main-css',
        get_theme_file_uri( 'assets/css/main.css' ),
        false
    );

    wp_enqueue_script(
        'main-js',
        get_theme_file_uri( 'assets/js/main.js' ),
        false,
        false,
        true
    );
}
add_action( 'wp_enqueue_scripts', 'rob_register_assets' );
```

I teraz, jeÅ›li chcemy, dla pierwszego pliku zdefiniowaÄ‡ tÅ‚o banera naszej strony, moÅ¼emy posÅ‚uÅ¼yÄ‡ siÄ™ takim oto skrawkiem kodu:

```php
function rob_add_css() {
    $main_custom_css = "
        .banner {
            background-image: url('{$background_url}');
        }
    ";

    wp_add_inline_style( 'main-css', $main_custom_css );
}
add_action( 'wp_enqueue_scripts', 'rob_add_css' );
```

I tyle! Po podpiÄ™ciu naszej funkcji, do hooku wp_enqueue_scripts, style zacznÄ… siÄ™ aplikowaÄ‡.

Z kolei, jeÅ›li w pliku JS, chcielibyÅ›my uÅ¼yÄ‡ np. zmiennej z Å›cieÅ¼kÄ… do motywu, moÅ¼emy dodaÄ‡ nastÄ™pujÄ…cy kod, wÅ‚aÅ›nie w pliku PHP:

```php
function rob_add_js_variables() {
    $variables = array(
        'templateDirectory' => get_template_directory_uri(),
    );
    wp_localize_script( 'main-js', 'wordpressVars', $variables);
}
add_action( 'wp_enqueue_scripts', 'rob_add_js_variables' );
```

I od teraz, w tym pliku JS, jesteÅ›my w stanie wyÅ›wietliÄ‡ Å›cieÅ¼kÄ™ do obecnie uÅ¼ywanego motywu, korzystajÄ…c z wÅ‚aÅ›ciwoÅ›ci templateDirectory, obiektu wordpressVars:

```
const wpT  emplateDirectory = wordpressVars.templateDirectory;
```

## A tak w sumie - jak WordPress to robi?

JuÅ¼ pokazujÄ™.

SpÃ³jrzmy sobie, co wyrzuca WordPress, w wynikowym pliku HTML, gdy dodamy kod CSS z konkretnymi zmiennymi, pobranymi z WordPressa:

```html
<link
  rel="stylesheet"
  id="main-css"
  href="http://testy.local/wp-content/themes/twentytwenty/assets/css/main.css?ver=5.5.1"
  type="text/css"
  media=""
/>
<style id="main-inline-css" type="text/css">
  .banner {
    background-image: url('http://testy.local/wp-content/uploads/2020/09/background.jpg');
  }
</style>
```

Jak widaÄ‡, WordPress po prostu dodaje nasz osadzony kod, pod linkiem do wÅ‚aÅ›ciwego pliku CSS, dziÄ™ki czemu, wykona siÄ™ on dokÅ‚adnie po nim.

I rzecz bardzo podobna, dzieje siÄ™, gdy podepniemy plik JS, wrzucajÄ…c do niego pokazanÄ… wczeÅ›niej zmiennÄ…:

```html
<script type="text/javascript" id="main-js-extra">
  /* <![CDATA[ */
  var wordpressVars = {
    templateDirectory: 'http:\/\/testy.local\/wp-content\/themes\/twentytwenty',
  };
  /* ]]> */
</script>
<script
  type="text/javascript"
  src="http://testy.local/wp-content/themes/twentytwenty/assets/js/main.js?ver=5.5.1"
  id="main-js"
></script>
```

Jak widaÄ‡, funkcja ta tworzy skrypt bezpoÅ›rednio wpisany, w plik HTML, zawierajÄ…cy wartoÅ›ci, ktÃ³re do niego przekazujemy. Sam skrypt, pojawia siÄ™ dokÅ‚adnie nad linkiem, do pliku podanego jako argument funkcji `wp_localize_script()`.

(SwojÄ… drogÄ…, jeÅ›li interesuje CiÄ™, dlaczego w powyÅ¼szym kodzie, ktÃ³ry ukradÅ‚em z jednego z moich projektÃ³w, adresy wyglÄ…dajÄ… tak specyficznie, to polecam Ci zapoznaÄ‡ siÄ™ z narzÄ™dziem [ngrok.io](https://ngrok.com/) - cudna sprawa, o ktÃ³rej, jeÅ›li tylko bÄ™dziesz chciaÅ‚ lub chciaÅ‚a, kiedyÅ› chÄ™tnie opowiem).

## I tak oto, moÅ¼emy uÅ¼ywaÄ‡ wartoÅ›ci z WordPressa, w plikach JS, jak i CSS!

Mam nadziejÄ™, Å¼e ta krÃ³tka dawka wiedzy, bÄ™dzie dla Ciebie przydatna. A jeÅ›li uwaÅ¼asz, Å¼e warto coÅ› dodaÄ‡, to oczywiÅ›cie nie wahaj siÄ™ zescrollowaÄ‡ strony i podzieliÄ‡ siÄ™ tym w komentarzu do tego artykuÅ‚u ğŸ”¥
