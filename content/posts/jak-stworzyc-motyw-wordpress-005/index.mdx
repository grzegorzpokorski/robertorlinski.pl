---
title: 'Jak stworzyÄ‡ motyw WordPress #005 â€“ Jak wyÅ›wietliÄ‡ wpisy na blogu? Wszystkie informacje'
abstract: Poznajemy pÄ™tlÄ™ WordPressa, wyÅ›wietlajÄ…cÄ… wpisy na blogu, zdobywamy wiedzÄ™ o funkcjach z niÄ… zwiÄ…zanych i caÅ‚oÅ›Ä‡ uÅ¼ywamy w praktyce.
isPublished: true
topics:
  - WordPress
  - Jak stworzyÄ‡ motyw WordPress
date: 29.04.2017
isPopular: false
---

W domyÅ›le WordPress od zawsze byÅ‚ platformÄ… blogowÄ…. StaÅ‚o siÄ™ to powszechne do tego stopnia, Å¼e firmy posiadajÄ…ce statyczne strony internetowe podpinajÄ… je pod ten system tylko po to, aby dodawaÄ‡ aktualnoÅ›ci oraz artykuÅ‚y. A co jest najwaÅ¼niejszÄ… czÄ™Å›ciÄ… kaÅ¼dego bloga? OczywiÅ›cie wpisy, o ktÃ³rych powiemy sobie wÅ‚aÅ›nie w tym artykule!

Dowiemy siÄ™ czym jest tak zwana The Loop, odpowiedzialna za wyÅ›wietlanie najnowszych treÅ›ci, opiszemy jej ogÃ³lnÄ… budowÄ™, widocznÄ… w kaÅ¼dym motywie WordPress, poznamy wszystkie funkcje, wyÅ›wietlajÄ…ce treÅ›Ä‡ zwiÄ…zanÄ… z wpisami na blogu oraz dodamy je do wczeÅ›niej utworzonej The Loop.

## Czym jest The Loop?

Jak sama nazwa wskazuje jest to powszechnie znana z innych jÄ™zykÃ³w programowania pÄ™tla (loop), ktÃ³ra wyÅ›wietla nowo dodane wpisy. CaÅ‚y kod w niej zawarty powtarza siÄ™ dla kaÅ¼dego wpisu, zmienna jest jedynie treÅ›Ä‡ pobierana za pomocÄ… funkcji WordPressa.

## Podstawowa wersja pÄ™tli WordPressa

CaÅ‚y kod, zawarty w szkielecie tej pÄ™tli jest stosunkowo prosty i krÃ³tki. Jedyna wiedza, potrzebna do jego dokÅ‚adnego zrozumienia to zasada dziaÅ‚ania konstrukcji warunkowej `if` oraz pÄ™tli `while` CaÅ‚oÅ›Ä‡ przedstawia siÄ™ w ten sposÃ³b:

```php
<?php
  if ( have_posts() ) :
    while ( have_posts() ) :the_post();
      // ZawartoÅ›Ä‡ wpisu.
    endwhile;
    else :
      echo <p>Na tej stronie nie ma Å¼adnych wpisÃ³w.</p>;
  endif;
?>
```

Postaram siÄ™ w jak najprostszy sposÃ³b przedstawiÄ‡ caÅ‚oÅ›Ä‡ po kolei. Zaczynajmy!

```php
<?php
  if ( have_posts() ) :
```

Pierwsza linia oczywiÅ›cie mÃ³wi o tym, Å¼e w danym miejscu rozpoczyna siÄ™ kod PHP, druga z kolei rozpoczyna konstrukcjÄ™ warunkowÄ… `if`. W nawiasie znajduje siÄ™ funkcja WordPressa `have_posts()`, ktÃ³ra sprawdza czy na stronie dodano jakiekolwiek wpisy.

```php
    while ( have_posts() ) :the_post();
```

Tu widaÄ‡ naszego gÅ‚Ã³wnego bohatera, czyli omawianÄ… pÄ™tlÄ™. CaÅ‚oÅ›Ä‡ mÃ³wi o tym, Å¼e pÄ™tla ma wykonywaÄ‡ siÄ™ dla kaÅ¼dego wpisu (`have_posts()`) oraz po kolei, umoÅ¼liwiajÄ…c pobranie poszczegÃ³lnych informacji z artykuÅ‚u (`the_post()`).

Wszystko co znajduje siÄ™ po tej linii zostanie powtÃ³rzone dla kaÅ¼dego z wpisÃ³w.

```php
    endwhile;
```

ZakoÅ„czenie pÄ™tli. CaÅ‚y kod znajdujÄ…cy siÄ™ pÃ³Åºniej nie bÄ™dzie powtarzany dla postÃ³w.

```php
    else :
      echo <p>Na tej stronie nie ma Å¼adnych wpisÃ³w.</p>;
```

Informacja co ma siÄ™ staÄ‡, gdy warunek podany przy konstrukcji IF siÄ™ nie speÅ‚ni, czyli gdy nie dodamy Å¼adnych postÃ³w na stronie. W tym przypadku skrypt wypisze zwykÅ‚y ciÄ…g tekstowy (_echo_) z informacjÄ… o braku wpisÃ³w.

```php
  endif;
?>
```

Ta czÄ™Å›Ä‡ kodu odpowiada za zakoÅ„czenie konstrukcji warunkowej IF (`endif`) oraz caÅ‚ego skryptu PHP (`?>`).

Jak widaÄ‡ caÅ‚oÅ›Ä‡ nie jest dÅ‚uga. JeÅ›li chcesz zobaczyÄ‡, Å¼e to rzeczywiÅ›cie dziaÅ‚a, moÅ¼esz dodaÄ‡ w miejscu:

```php
      // ZawartoÅ›Ä‡ wpisu.
```

...jakikolwiek kod wypisujÄ…cy tekst na ekranie, na przykÅ‚ad:

```php
      echo <h2>Wpis</h2>;
```

Po czym dodaÄ‡ kilka postÃ³w w panelu WordPressa (W menu z boku: Posts -> Add new). JeÅ›li tekst Wpis pokaÅ¼e siÄ™ takÄ… iloÅ›Ä‡ razy, ile dodaliÅ›my postÃ³w, to oznacza, Å¼e nasza pÄ™tla dziaÅ‚a poprawnie!

## 10 funkcji WordPressa zwiÄ…zanych z The Loop

Wiemy juÅ¼ w jaki sposÃ³b WordPress wyÅ›wietla posty na blogu oraz jaki kod za to odpowiada. Teraz przyszedÅ‚ czas na dokÅ‚adne poznanie wszystkich funkcji, ktÃ³re wypeÅ‚niajÄ… tÄ™ pÄ™tlÄ™ i tworzÄ… wpis. Chodzi o takie elementy jak tytuÅ‚, data dodania, autor i wiele innych.

### 1. `the_title()`

Jak sama nazwa wskazuje jest to funkcja wyÅ›wietlajÄ…ca tytuÅ‚. Jako jej argument moÅ¼na przyjÄ…Ä‡ 3 rÃ³Å¼ne parametry:

1. $before - ciÄ…g tekstowy przed tytuÅ‚em.
2. $after - string po tytule.
3. $echo - jeÅ›li w to miejsce wpiszemy false, tytuÅ‚ nie zostanie wypisany.

PrzykÅ‚ad uÅ¼ycia:

```php
<?php the_title( '<p>', '</p>' ); ?>
```

### 2. `the_permalink()`

OdnoÅ›nik do konkretnego wpisu. Posiada jeden parametr:

1. $post - pozwala wybraÄ‡ czy link ma prowadziÄ‡ do okreÅ›lonego identyfikatora postu, czy teÅ¼ obiektu.

PrzykÅ‚ad uÅ¼ycia:

```php
<?php the_permalink(); ?>
```

### 3. `the_content()`

ZawartoÅ›Ä‡ caÅ‚ego wpisu. MoÅ¼e przyjmowaÄ‡ 2 parametry:

1. $more_link_text - tekst pojawiajÄ…cy siÄ™ gdy wpis jest dÅ‚ugi.
2. $strip_teaser - za pomocÄ… wartoÅ›ci `true` lub `false` okreÅ›la czy pokazany tekst artykuÅ‚u ma byÄ‡ skrÃ³cony.

PrzykÅ‚ad uÅ¼ycia:

```php
<?php the_content( 'Czytaj dalej' ); ?>
```

### 4. `the_category()`

DomyÅ›lnie lista nieuporzÄ…dkowana wypisujÄ…ca kategorie, do ktÃ³rych zalicza siÄ™ dany wpis. Parametry, ktÃ³re moÅ¼e przyjmowaÄ‡ to:

1. $separator - znak oddzielajÄ…cy poszczegÃ³lne kategorie.
2. $parents - sposÃ³b, w jaki pokazywany jest rodzic danej kategorii.
3. $post_id - identyfikator wpisu do pobierania kategorii.

PrzykÅ‚ad uÅ¼ycia:

```php
<?php the_category( ' | ' ); ?>
```

### 5. `the_author()`

Funkcja sÅ‚uÅ¼Ä…ca do pokazywania nazwy danego autora (w ustawieniach WordPressa mamy moÅ¼liwoÅ›Ä‡ wyboru pomiÄ™dzy wyÅ›wietlaniem nazwy uÅ¼ytkownika a na przykÅ‚ad imienia i nazwiska). Jako jedyna funkcja nie posiada dedykowanych parametrÃ³w. Z tego teÅ¼ powodu przykÅ‚ad bÄ™dzie niezbyt odkrywczy ğŸ˜Œ

PrzykÅ‚ad uÅ¼ycia:

```php
<?php the_author(); ?>
```

### 6. `the_date()`

Jak sama nazwa wskazuje, ten kod odpowiada za wyÅ›wietlanie daty wstawienia danego postu. Posiada najwiÄ™cej moÅ¼liwych parametrÃ³w, bo aÅ¼ 4:

1. $format - format zapisu daty. DomyÅ›lnie zostaje pobrany z ustawieÅ„ WordPressa.
2. $before - tekst przed datÄ….
3. $after - string po dacie.
4. $echo - decyduje czy wyÅ›wietliÄ‡ datÄ™ (`true`), czy nie (`false`).

PrzykÅ‚ad uÅ¼ycia:

```php
<?php the_date('Y-m-d', '<p>', '</p>'); ?>
```

### 7. `the_tags()`

WyÅ›wietla tagi przypisane dla konkretnego wpisu. Jej parametry to:

1. $before - tekst przed tagami.
2. $sep - tekst pomiÄ™dzy (separator).
3. $after - tekst po wszystkich tagach.

PrzykÅ‚ad uÅ¼ycia:

```php
<?php the_tags( 'Tagi: ', ' | '); ?>
```

### 8. `the_excerpt()`

Ten kod zajmuje siÄ™ bezpoÅ›rednim wyÅ›wietlaniem maÅ‚ej czÄ™Å›ci wpisu. Podobnie jak `the_author()`, nie posiada parametrÃ³w.

PrzykÅ‚ad uÅ¼ycia:

```php
<?php the_excerpt(); ?>
```

### 9. `the_post_thumbnail()`

DoÅ›Ä‡ ciekawa funkcja, zajmujÄ…ca siÄ™ wyÅ›wietleniem miniaturki artykuÅ‚u (wczeÅ›niej trzeba dodaÄ‡ funkcjÄ™ miniatur do naszego motywu). Przyjmuje takie oto parametry:

1. $size - wielkoÅ›Ä‡ miniaturki.
2. $attr - dodatkowe atrybuty.

PrzykÅ‚ad uÅ¼ycia:

```php
<?php the_post_thumbnail( 'post-thumbnail' ); ?>
```

### 10. `comments_link()`

BezpoÅ›redni odnoÅ›nik do sekcji komentarzy w naszym wpisie. Podobnie jak niektÃ³re z poprzednich funkcji, tak i ta nie ma parametrÃ³w.

PrzykÅ‚ad uÅ¼ycia:

```php
<?php comments_link(); ?>
```

W ten sposÃ³b przedstawiajÄ… siÄ™ funkcje, ktÃ³rymi moÅ¼na zapeÅ‚niÄ‡ pÄ™tlÄ™ zawierajÄ…ca wszystkie wpisy na blogu.

## Podsumowanie

W poprzedniej czÄ™Å›ci z tej serii udaÅ‚o nam siÄ™ wypisaÄ‡ na ekranie Witaj Å›wiecie!. Dzisiaj z kolei dobrze byÅ‚oby zmieniÄ‡ te zdanie na jakieÅ› wpisy z bloga. W tym celu utworzyÅ‚em 2 przykÅ‚adowe wpisy i dodaÅ‚em taki oto kod:

```php
<?php
	if (have_posts()) :
    while (have_posts()) : the_post(); ?>
    	<h2>
    		<a href=<?php the_permalink(); ?>>
          <?php the_title(); ?>
        </a>
    	</h2>

    	<?php the_content();

    endwhile;

  else :
    echo <p>Na tej stronie nie ma Å¼adnych wpisÃ³w.</p>;

  endif;
?>
```

DziÄ™ki temu strona wyglÄ…da w ten sposÃ³b:

![](./rezultat.jpg)

OczywiÅ›cie na razie nie prezentuje siÄ™ to zbyt dobrze (dlatego na razie wstrzymaÅ‚em siÄ™ z dodawaniem innych funkcji), ale to wkrÃ³tce siÄ™ zmieni.

To na razie tyle! DowiedzieliÅ›my siÄ™ dzisiaj wszystkiego co jest potrzebne, aby dodaÄ‡ wpis na naszego bloga!

CaÅ‚y kod oczywiÅ›cie znajduje siÄ™ na moim [GitHubie](https://github.com/robert-orlinski/modern-blog) c:
